/*!
 * pledges.
 * https://www.github.com/ryansmith94/Pledges
 *
 * Copyright 2013, ryansmith94 and contributors.
 * Released under the MIT license.
 * https://github.com/ryansmith94/Pledges/blob/master/license.md
 *
 * Version 1373.2889.43084.
*/
!function(a){"use strict";var b=function(){var a=this,c=0,d=null,e=null,f=[],g=[];return a.state=function(){var a=["unfulfilled","fulfilled","rejected"];return function(){return a[c]}}(),a.fulfil=function(b){return 0===c&&(d=b,c=1,f.forEach(function(a){f.splice(f.indexOf(a),1),a(d)})),a},a.reject=function(b){return 0===c&&(e=b,c=2,g.forEach(function(a){g.splice(g.indexOf(a),1),a(e)})),a},a.then=function(a,h){var i=new b,j=function(a){return"function"!=typeof a?function(){}:function(b){setTimeout(function(){try{i.fulfil(a(b))}catch(c){i.reject(c)}})}};return a=j(a),h=j(h),0===c?(f.push(a),g.push(h),1===c&&-1!==f.indexOf(a)?(f.splice(f.indexOf(a),1),a(d)):2===c&&-1!==g.indexOf(h)&&(g.splice(f.indexOf(h),1),h(e))):1===c?a(d):2===c&&h(e),i.restrict()},a.restrict=function(){return{state:a.state,then:a.then}},a};a.promise=function(){return new b}}(this);