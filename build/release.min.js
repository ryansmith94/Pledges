/*!
 * pledges.
 * https://www.github.com/ryansmith94/Pledges
 *
 * Copyright 2013, ryansmith94 and contributors.
 * Released under the MIT license.
 * https://github.com/ryansmith94/Pledges/blob/master/license.md
 *
 * Version 1373.0261.80043.
*/
!function(a){"use strict";var b=function(){var a=this,c="unfulfilled",d=null,e=null,f=[],g=[];return a.state=function(){return c},a.fulfil=function(b){return"unfulfilled"===c&&(d=b,c="fulfilled",f.forEach(function(a){f.splice(f.indexOf(a),1),a(d)})),a},a.reject=function(b){return"unfulfilled"===c&&(e=b,c="rejected",g.forEach(function(a){g.splice(g.indexOf(a),1),a(e)})),a},a.then=function(a,h){var i=new b,j=function(a){return"function"!=typeof a?function(){}:function(b){setTimeout(function(){try{i.fulfil(a(b))}catch(c){i.reject(c)}})}};return a=j(a),h=j(h),"unfulfilled"===c?(f.push(a),g.push(h),"fulfilled"===c&&-1!==f.indexOf(a)?(f.splice(f.indexOf(a),1),a(d)):"rejected"===c&&-1!==g.indexOf(h)&&(g.splice(f.indexOf(h),1),h(e))):"fulfilled"===c?a(d):"rejected"===c&&h(e),i.restrict()},a.restrict=function(){return{state:a.state,then:a.then}},a};a.promise=function(){return new b}}(this);